expeditor:
  defaults:
    buildkite:
      timeout_in_minutes: 30

steps:
#######################################################################
# Release!
#######################################################################

# plan-build

  - label: "plan-build"
    command:
      - .expeditor/scripts/build_component.sh plan-build
    agents:
      queue: 'default-privileged'
    env:
      HAB_ORIGIN: "scotthain"

  # - label: "plan-build"
  #   command:
  #     - .expeditor/scripts/build_component.ps1 -Component plan-build-ps1
  #   agents:
  #     queue: 'default-windows-privileged'
  #   env:
  #     HAB_ORIGIN: "scotthain"

  - wait

  - label: "studio"
    command:
      - .expeditor/scripts/build_component.sh studio
    agents:
      queue: 'default-privileged'
    env:
      HAB_ORIGIN: "scotthain"

  # - label: "plan-build"
  #   command:
  #     - .expeditor/scripts/build_component.ps1 -Component plan-build-ps1
  #   agents:
  #     queue: 'default-windows-privileged'
  #   env:
  #     HAB_ORIGIN: "scotthain"

  - wait

# backline

  - label: "backline"
    command:
      - .expeditor/scripts/build_component.sh backline
    agents:
      queue: 'default-privileged'
    env:
      HAB_ORIGIN: "scotthain"

  # - label: "plan-build"
  #   command:
  #     - .expeditor/scripts/build_component.ps1 -Component plan-build-ps1
  #   agents:
  #     queue: 'default-windows-privileged'
  #   env:
  #     HAB_ORIGIN: "scotthain"

  - wait

# hab

  - label: "hab"
    command:
      - .expeditor/scripts/build_component.sh hab
    agents:
      queue: 'default-privileged'
    env:
      HAB_ORIGIN: "scotthain"

  # - label: "hab"
  #   command:
  #     - .expeditor/scripts/build_component.ps1 -Component hab
  #   agents:
  #     queue: 'default-windows-privileged'
  #   env:
  #     HAB_ORIGIN: "scotthain"

  - wait

